---
title: "Predicting Customer Satisfaction"
output: html_document
---

```{r, setup, include=FALSE}
libs <- c("pastecs", "xgboost", "methods", "data.table", "magrittr", "bit64", "caret")
lapply(libs, require, character.only = T)

train <- fread("Data/train.csv", header = T, stringsAsFactors = T)
test <- fread("Data/test.csv", header = T, stringsAsFactors = T)
```
```{r, explore}
#Check sizes of data.frames
dim(train)
dim(test)

#Prevew training and test 
train[1:10, 1:5, with = F]
test[1:10, 1:5, with = F]

#Drop ID columns from both data sets
train[, ID := NULL]
test[, ID := NULL]

#Preview target variable
train[1:10, ncol(train), with = F]
targetVar <- names(train)[ncol(train)]

train <- train[, lapply(.SD, as.numeric)] %>% as.data.frame
test <- test[, lapply(.SD, as.numeric)] %>% as.data.frame
```
```{r, clean}
#Remove variables with no variance
noVar <- colnames(train[, sapply(train, function(x) var(x, na.rm = T) == 0)])
train2 <- train[, !(colnames(train) %in% noVar)]

#Remove variables that are linear combinations
linCombos <- findLinearCombos(train2)

```


